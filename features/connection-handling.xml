<?xml version="1.0" encoding="iso-8859-9"?>
<!-- $Revision: 1.2 $ -->
<chapter id="features.connection-handling">
 <!-- dirge: handling => iþleme -->
 <title>Baðlantý Ýþleme</title>

 <note>
  <para>Burada yazanlar 3.0.7 ve sonrasý sürümler için geçerlidir.</para>
 </note>

 <para>
  PHP'nin içinde baðlantý durumu saklanýr. Olasý durumlar 3 tanedir:
  <itemizedlist>
   <listitem><simpara>0 - NORMAL (normal)</simpara></listitem>
   <listitem><simpara>1 - ABORTED (iptal edilmiþ)</simpara></listitem>
   <listitem><simpara>2 - TIMEOUT (zaman aþýmýna uðramýþ)</simpara></listitem>
  </itemizedlist>
 </para>

 <simpara>
  PHP betiði normal olarak çalýþýrken NORMAL durumu aktiftir. Eðer alýcý
  taraf baðlantýyý keserse ABORTED durum anahtarý aktifleþtirilir. Alýcý
  tarafýn baðlantýyý kesmesi genellikle uzaktaki kullanýcýnýn STOP düðmesine
  basmasýndan kaynaklanýr. Eðer PHP'ye bildirilen zaman sýnýrýna (bkz.
  <function>set_time_limit</function>) ulaþýlýrsa, TIMOUT durum anahtarý
  aktifleþtirilir.
 </simpara>

 <simpara>
  <!-- dirge: return => döndürmek -->
  <!-- dirge: directive => direktif -->
  Alýcýnýn baðlantýyý kesmesi durumunda PHP betiðinin çalýþmasýnýn durdurulup
  durdurulmayacaðýný seçebilirsiniz. Bazý durumlarda karþý taraftaki internet
  gezgini yolladýðýnýz çýktýyý almýyor olsa bile PHP betiðinin normal olarak
  sonlanmasý kullanýþlý olabilir. Ancak PHP'nin öntanýmlý davranýþý karþý
  taraftaki internet gezgini baðlantýyý kestiðinde betiði sonlandýrmaktýr.
  Bu davranýþ ignore_user_abort php.ini direktifiyle ayarlanabileceði gibi
  bunun Apache .conf karþýlýðý olan php3_ignore_user_abort direktifiyle veya
  <function>ignore_user_abort</function> fonksiyonuyla da ayarlanabilir. Tek
  istisna <function>register_shutdown_function</function> fonksiyonu ile
  bir kapanýþ fonksiyonu tanýmlamanýzdýr. Tanýmlý bir kapanýþ fonkiyonu
  varken, betiðiniz çýktý yollamaya çalýþtýðýnda PHP alýcýnýn STOP düðmesine
  bastýðýný algýlayacak ve tanýmladýðýnýz fonksiyonu çaðýracaktýr. Bu kapanýþ
  fonksiyonu ayrýca betiðiniz normal olarak sonlandýðýnda da çaðrýlacaðý
  için, sadece baðlantýnýn kesilmesi durumunda yapýlmasýný istediðiniz iþler
  varsa <function>connection_aborted</function> fonksiyonunu
  kullanabilirsiniz. Bu fonksiyon eðer baðlantý kesilmiþse &true; deðerini
  döndürecektir.
 </simpara>

 <simpara>
  Betiðiniz ayrýca yerleþik betik süre-ölçeri tarafýndan da
  sonlandýrýlabilir. Öntanýmlý zaman 30 saniyedir. Bu deðer
  max_execution_time php.ini direktifi veya bunun Apache .conf karþýlýðý olan
  php3_max_execution_time direktifi ile ayarlanabileceði gibi
  <function>set_time_limit</function> fonksiyonuyla da ayarlanabilir.
  Belirlenen azami sürenin dolmasý durumunda betik sonlandýrýlacak, ve
  yukarýdaki baðlantý kesilmesi durumunda olduðu gibi, varsa, tanýmlanmýþ
  kapanýþ fonksiyonu çaðrýlacaktýr. Bu kapanýþ fonksiyonunun içinde,
  çaðrýlmasýnýn sebebinin süre dolmasý olup olmadýðýný öðrenmek isterseniz
  <function>connection_timeout</function> fonksiyonunu kullanabilirsiniz. Bu
  fonksiyon sürenin dolmuþ olmasý durumunda &true; deðerini döndürecektir.
 </simpara>

 <simpara>
  Dikkat edilmesi gereken bir nokta hem ABORTED hem de TIMEOUT durumlarýnýn
  ayný anda aktif olabileceðidir. Bu, PHP'ye karþý tarafýn baðlantýyý
  sonlandýrmasýný gözardý etmesini söylerseniz mümkün olur. PHP'nin
  baðlantýnýn kapandýðýný anlamasýna raðmen betik çalýþmaya devam edecektir.
  Süre sýnýrý aþýldýðýnda betik sonlandýrýlýr ve, varsa, kapanýþ fonksiyonu
  çaðrýlýr. Bu noktada <function>connection_timeout</function> ve
  <function>connection_aborted</function> fonksiyonlarý &true; deðerini
  döndürür. Ýki durumu ayný anda <function>connection_status</function>
  fonksiyonu ile kontrol edebilirsiniz. Bu fonksiyon aktif durumlarý içeren
  bit alanýný döndürür. Örneðin, iki durum da aktifse geriye dönüþ deðeri
  olarak 3'ü verecektir.
 </simpara>
</chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
